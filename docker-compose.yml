version: '2.0'

services:
  jekyll:
    image: jekyll/jekyll:pages
    ports:
        - 4000:4000
    volumes:
        - .:/srv/jekyll
  dev:
    extends:
      service: jekyll
    command: ./node_modules/.bin/grunt dev

  build:
    extends:
      service: jekyll
    command: jekyll build

  serve:
    extends:
      service: jekyll
    command: jekyll serve --watch --incremental --drafts
